<h1>Timers</h1>

<div class="tool-panel">
  <button
    mat-button
    color="primary"
    (click)="addTimer()">
    Add Timer
  </button>
</div>

<div class="timers-list">
  <div
    class="timer"
    *ngFor="let timer of timersService.timers$ | async; let index = index">
    <div class="label">{{ timer.label }}:</div>
    <div class="minutes">{{ timer.minutes }} minutes</div>

    <button
      mat-button
      color="primary"
      (click)="switchTimer(timer)">
      {{ timer.endTimeStamp && timer.endTimeStamp > Date.now() ? 'Stop' : 'Start' }}
    </button>

    <button
      mat-button
      color="primary"
      (click)="updateTimer(timer)">
      edit
    </button>

    <button
      mat-button
      color="warn"
      (click)="delete(timer)">
      Delete
    </button>

    <ng-container *ngIf="timer.endTimeStamp && timer.endTimeStamp > Date.now()">
      <div class="minute">{{ getMinutes(timer) }} m</div>
      <div class="seconds">{{ getSeconds(timer) }}s</div>
    </ng-container>
  </div>
</div>
